(function(g){var window=this;/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var c$=function(a){for(var b;0<a.B.length;)(b=a.B.pop())&&b.disconnect();a.u&&a.u.disconnect()},d$=function(a,b){this.j=a;
this.mediaElement=b;this.u=null;this.B=[];this.C=!1},f3a=function(a,b){if(g.$r())return null;
var c=(0,g.wTa)();if(!c)return a.qo("html5.webaudio",{name:"null context"}),null;if("string"===typeof c)return a.qo("html5.webaudio",{name:c}),null;if(!c.createMediaElementSource)return a.qo("html5.webaudio",{name:"missing createMediaElementSource"}),null;if("suspended"===c.state){var d=function(e){"suspended"===c.state&&g.gG(e.state)&&c.resume().then(function(){a.removeEventListener("presentingplayerstatechange",d);e$=!1},null)};
e$||(a.addEventListener("presentingplayerstatechange",d),e$=!0)}return new d$(c,b)},f$=function(a,b){(a=g.CJ(a.ob()))&&a.fD(b)},g$=function(a){a.u||(a.u=a.j.createMediaElementSource(a.mediaElement.nf()));
return a.u},h$=function(a){var b=a.j.createGain();
a.B.push(b);return b},g3a=function(a,b){b=a.j.createChannelSplitter(b);
a.B.push(b);return b},h3a=function(a,b){b=a.j.createChannelMerger(b);
a.B.push(b);return b},i$=function(a){this.length=a.length||a;
for(var b=0;b<this.length;b++)this[b]=a[b]||0},j$=function(a){this.length=a.length||a;
for(var b=0;b<this.length;b++)this[b]=a[b]||0},k$=function(a){var b=a[0],c=a[1];
a=a[2];return Math.sqrt(b*b+c*c+a*a)},l$=function(a){this.I=a;
this.u=null;this.j=new g.Hm(0,0,0,0);this.D=new g.yh(0,0);this.C=this.B=0;this.J=this.C0;g.YC&&g.sc(11)&&!g.sc(15.15063)&&(this.u=g.ci("CANVAS").getContext("2d"),g.sc(12.10532)||(this.B=3))},m$=function(a,b,c,d,e,f){e>=f?(d+=Math.random()*f|0,f=1):(c+=Math.random()*e|0,e=1);
i3a(a,b,c,d,e,f,c,d,e,f);a=a.u.getImageData(c,d,e,f).data;for(b=0;b<a.length;b+=4)if(255<a[b]+a[b+1]+a[b+2]+a[b+3])return!0;return!1},i3a=function(a,b,c,d,e,f,k,l,m,n){try{a.u.drawImage(b,c,d,e,f,k,l,m,n)}catch(p){if(!(p instanceof DOMException)||"IndexSizeError"!==p.name)throw p;
}},j3a=function(a){if(!a.length)return NaN;
for(var b=0,c=a.length-1,d,e,f,k,l=c/2|0;b<c;){d=(b+c)/2|0;d=a[d];e=b-1;for(f=c+1;;){for(;a[++e]<d;);for(;a[--f]>d;);if(e>=f)break;k=a[e];a[e]=a[f];a[f]=k}f<l?b=f+1:c=f}return a[l]},n$=function(){var a=g.hw("yt-player-webgl-perf")||{};
return a.fpsdata?a.fpsdata:[]},k3a=function(a){var b=g.hw("yt-player-webgl-perf")||{},c={};
c.fpsdata=a;b.prevperf&&(c.prevperf=b.prevperf);g.gw("yt-player-webgl-perf",c,1814400)},m3a=function(){var a=(0,g.UR)();
if(""===a)return!0;for(var b=g.r(l3a),c=b.next();!c.done;c=b.next())if(c.value.test(a))return!0;return!1},n3a=function(a,b){var c=n$();
if(0>=c.length)return!m3a();c=j3a(c);var d=(g.hw("yt-player-webgl-perf")||{}).prevperf,e=(d&&d[a]?d[a]:0)>=b;(d=e)&&c<=b-5?d=!1:!e&&c>=b&&(d=!0);e!==d&&(b=g.hw("yt-player-webgl-perf")||{},b.prevperf||(b.prevperf={}),b.prevperf[a]=c,g.gw("yt-player-webgl-perf",b,1814400));return d},o3a=function(a,b,c){b=g.sB(b.experiments,"max_resolution_for_white_noise")||360;
var d=c.Px();return 0<d&&d<=b||512>c.getBandwidthEstimate()?!0:(a=a.u)&&a.video&&a.video.j<=b?!0:!1},o$=function(a,b){this.I=a;
this.wx=void 0===b?null:b;this.videoHeight=360;this.videoWidth=640;this.Sz=360;this.nq=new l$(this.I);this.Gd=p3a;this.Or=NaN;this.Hm=null;this.XW=(a=g.sB(a.V().experiments,"max_resolution_for_white_noise"))?a:360},q3a=function(a,b,c){if(g.kE(a)||!a.j||!g.ZC(b)||g.qC)return!1;
var d=c.Pc(),e=d?function(f){d.xa("glsharp",{r:f},!0)}:function(){};
if(p$&&!p$.charging)return e("false_battery"),!1;if(!o3a(a,b,c))return e("false_lowres"),!1;if(!(3<=n$().length)){if(0<=a.clientPlaybackNonce.indexOf("u")&&5>a.clientPlaybackNonce.indexOf("u"))return e("true_rand"),!0;e("false_rand");return!1}if(!n3a("rect",g.sB(b.experiments,"html5_gl_fps_threshold")||45))return e("false_lowperf"),!1;e("true");return!0},r3a=function(a){if(a.wx){var b=1.3*a.videoHeight<=a.Sz;
Math.min(a.videoWidth,a.videoHeight)<=a.XW&&b?a.wx(!0):a.wx(!1)}},q$=function(a,b){o$.call(this,a,b);
this.I=a;this.Xu=this.Ur=null;this.Gd=s3a},r$=function(a,b,c,d,e,f,k){this.j=f;
this.x=Math.cos(k);this.y=Math.sin(k);this.iB=h$(a);this.jB=h$(a);this.kB=h$(a);this.lB=h$(a);c.connect(this.iB,b.w,0);c.connect(this.jB,b.x,0);c.connect(this.kB,b.y,0);c.connect(this.lB,b.z,0);this.iB.connect(d,0,e);this.jB.connect(d,0,e);this.kB.connect(d,0,e);this.lB.connect(d,0,e);this.rotate(0,0);this.iB.gain.value=1-this.j},s$=function(a,b,c){this.Bd=a;
this.j=c;this.B=this.u=null},t$=function(){s$.apply(this,arguments);
this.B=this.u=this.D=this.C=null},t3a=function(a){switch(a){case 1:return{w:2,
x:0,y:1,z:4,channelCount:6};case 3:return{w:0,x:3,y:1,z:2,UB:4,r:5,channelCount:6};default:return{w:0,x:3,y:1,z:2,channelCount:4}}},u$=function(){this.elements=new Float32Array(16);
this.j=new Float32Array(16);this.j.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.u=new Float32Array(16);this.u.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.identity()},u3a=function(a,b,c,d){var e=Math.cos(b);
b=Math.sin(b);var f=Math.cos(c);c=Math.sin(c);var k=Math.cos(d);d=Math.sin(d);a.elements.set([b*c*d+e*k,f*d,e*c*d-b*k,0,b*c*k-e*d,f*k,e*c*k+b*d,0,b*f,-c,e*f,0,0,0,0,1])},w$=function(a,b){if(b){var c=Math.sin(b);
b=Math.cos(b);a.j.set([1,0,0,0,0,b,c,0,0,-c,b,0,0,0,0,1]);v$(a,a.j)}},v3a=function(a,b){if(b){var c=Math.sin(b);
b=Math.cos(b);a.j.set([b,0,-c,0,0,1,0,0,c,0,b,0,0,0,0,1]);v$(a,a.j)}},x$=function(a,b){if(b){var c=Math.sin(b);
b=Math.cos(b);a.j.set([b,c,0,0,-c,b,0,0,0,0,1,0,0,0,0,1]);v$(a,a.j)}},v$=function(a,b){for(var c=a.elements,d=a.u,e=0;4>e;e++)for(var f=0;12>=f;f+=4)d[e+f]=c[e]*b[f]+c[e+4]*b[f+1]+c[e+8]*b[f+2]+c[e+12]*b[f+3];
a.elements=d;a.u=c},y$=function(a){return Math.atan2(a.elements[8],a.elements[10])},w3a=function(a){return Math.atan2(a.elements[1],a.elements[5])},x3a=function(a){var b=new Float32Array(3),c=k$(a);
b[0]=a[0]/c;b[1]=a[1]/c;b[2]=a[2]/c;a=1/(Math.abs(b[0])+Math.abs(b[1])+Math.abs(b[2]));b[0]*=a;b[1]*=a;b[2]*=a;0<b[2]&&(a=(1-Math.abs(b[0]))*(0<b[1]?1:-1),b[0]=(1-Math.abs(b[1]))*(0<b[0]?1:-1),b[1]=a);b[0]*=.5;b[1]*=.5;b[2]*=.5;b[0]+=.5;b[1]+=.5;a=Math.floor(256*b[0]);b=Math.floor(256*b[1]);256===a&&--a;256===b&&--b;return{x:a,y:255-b}},y3a=function(a){function b(v,x){var y,z=x;
for(y=0;v[y]!==x;++y){var E=v[y];v[y]=z;z=E}v[y]=z;return y}
var c=a.length,d=Array(2*c+3),e=0;d[0]=0;d[1]=c>>8&255;d[2]=c&255;e=3;for(var f=Array(256),k=Array(256),l=Array(256),m=0;256>m;++m)f[m]=m,k[m]=m,l[m]=0;for(var n=m=0,p=0;p<c;++p){var q=a[p],t=b(f,q);k[n]===q?l[n]+=4:0===(l[n]>>=1)&&(k[n]=q,l[n]=1);1<l[q]&&b(f,k[q]);n=q;0===t&&++m;if(0!==t||p+1===c){for(;0<m;)--m,0===m%2?d[e++]=0:d[e++]=254,m>>=1;if(255===t||254===t)d[e++]=255;0!==t&&(d[e++]=t)}}return d.slice(0,e)},z3a=function(){this.J=this.C=this.u=this.K=this.B=0;
this.j=[];this.D=new Float32Array(3);this.Yd=-1},z$=function(a,b){this.api=a;
this.BA=b;this.j=null;this.fov=.872665;this.D=this.K=this.J=this.ip=this.hp=0;this.Rz=!0;this.alpha=this.roll=this.pitch=this.C=this.yaw=0;this.beta=90;this.orientation=this.gamma=0;this.Le=new u$;this.u=A3a;this.Kr=(a=this.api.getVideoData())?a.Kr:!1;this.B=new Float32Array(3);this.S=new z3a},B3a=function(a){this.gl=a;
this.j=[]},C3a=function(a){return-1<a.j.indexOf("OES_EGL_image_external")},A$=function(a,b){this.displayMode=a;
this.j=void 0===b?null:b;this.B=null;this.u=!0;this.j&&0!==this.displayMode&&(a=g.hw(this.j),null!=a&&(this.displayMode=a))},B$=function(a,b){a.u&&(b.uniform1i(a.B,a.displayMode),a.u=!1)},C$=function(a,b){o$.call(this,a);
this.I=a;this.BA=b;this.qj=new A$(2,"yt-player-webgl-anaglyph-3d-display-mode");this.Gd=D3a},E3a=function(a,b){this.j=b;
this.length=a.length;this.BD=new Float32Array(3*this.length);this.sJ=new Float32Array(2*this.length);for(b=0;b<this.length;b++)this.BD[3*b]=a[b][0],this.BD[3*b+1]=a[b][1],this.BD[3*b+2]=a[b][2],this.sJ[2*b]=a[b][3],this.sJ[2*b+1]=1-a[b][4]},E$=function(a,b){var c=D$;
this.u=a;this.I=b;this.Gd=c;this.B=!1;this.j=this.Ur=this.C=this.Xu=null},F3a=function(a,b,c){this.data=a;
this.offset=b;this.size=c;this.j=0},F$=function(a){var b=a.data.getUint8(a.offset+a.j);
a.j+=1;return b},G$=function(a){var b=a.data.getUint32(a.offset+a.j);
a.j+=4;return b},G3a=function(a,b){void 0===b&&(b=a.size-a.j);
var c=a.data.byteOffset+a.offset+a.j;a.j+=b;return new Uint8Array(a.data.buffer,c,b)},I3a=function(a){var b=new H$(a);
if(0!==F$(b))return[];b.j+=3;a=G$(b);if(a in I$)return I$[a];b=H3a(b);if(!b)return[];for(var c=[],d=0;2>d&&8<=b.size-b.j;d++){var e=G$(b);if(1835365224===G$(b)){e=G3a(b,e-8);e=new DataView(e.buffer,e.byteOffset,e.byteLength);e=new H$(e);for(var f=[],k=G$(e)&2147483647,l=0;l<k;l++){var m=f,n=m.push,p=e,q=p.data.getFloat32(p.j);p.j+=4;n.call(m,q)}a:{k=[];l=G$(e)&2147483647;m=f.length;n=Math.ceil(Math.log2(2*m));for(var t=q=p=0,v=0,x=0,y=0;y<l;y++){p+=J$(K$(e,n));q+=J$(K$(e,n));t+=J$(K$(e,n));v+=J$(K$(e,
n));x+=J$(K$(e,n));if(Math.max(p,q,t,v,x)>=m){f=null;break a}k.push([f[p],f[q],f[t],f[v],f[x]])}e.register=0;e.u=0;f=k}if(f)a:{G$(e);F$(e);k=F$(e);l=G$(e)&2147483647;switch(k){case 1:k=5;break;case 2:k=6;break;default:k=4}m=[];n=f.length;p=Math.ceil(Math.log2(2*n));for(t=q=0;t<l;t++){q+=J$(K$(e,p));if(q>=n){e=null;break a}m.push(f[q])}e.register=0;e.u=0;e=new E3a(m,k)}else e=null;e&&c.push(e)}}0<c.length&&(I$[a]=c);return c},H3a=function(a){var b=G$(a);
if(1918990112===b)return a;if(1684433976===b){a=new g.tKa(G3a(a));try{var c=g.xKa(a)}catch(d){return null}if(0<c.byteLength)return new H$(new DataView(c.buffer,c.byteOffset,c.length))}return null},H$=function(a){F3a.call(this,a,0,a.byteLength);
this.u=this.register=0},K$=function(a,b){for(;a.u<b;)a.register=a.register<<8|F$(a),a.u+=8;
a.u-=b;b=a.register>>>a.u;a.register^=b<<a.u;return b},J$=function(a){return a>>>1^-(a&1)},M$=function(a,b,c){z$.call(this,a,b);
this.BA=b;this.wx=c;this.xG={};this.Vo=null;this.gH=this.Or=NaN;this.Iz=this.Hm=this.MO=this.LO=null;b=0;n3a("sph",30)&&(b=1);a.Pc().xa("glfpsperf",{bsm:b},!0);this.Gd=0<b?D$:L$;this.Wt=0<b?new E$(b,a):null;this.vI=new u$;this.qj=new A$(0,"yt-player-webgl-spherical-3d-display-mode");this.lD=0;this.nq=new l$(a)},J3a=function(){this.u=!0;
this.j=[];this.B=(0,g.R)()},K3a=function(a,b,c,d){this.I=a;
this.D=b;this.parent=c;this.ra=d;this.error=10;this.B=!0;this.ma=NaN;this.Jc=this.C=this.S=this.J=this.gl=this.j=null;this.K=!1;this.enabled=!0;this.Z=!this.I.V().N("disable_webglfps_logging");this.u=null;this.Y=new J3a;this.Jb=a.Ld().nf()},M3a=function(a){a.Jc=null;
return L3a(a)},L3a=function(a){function b(){a.requestAnimationFrame()}
function c(d){if(a.enabled!==d&&a.j)if(a.enabled=d)a.parent.appendChild(a.j),a.requestAnimationFrame(),N3a(a)&&(a.Jb.style.display="none"),a.u&&a.u.stop();else if(g.gi(a.j),a.Jb.style.display="","NoOp"===a.D||"BicubicSharp"===a.D)a.u||(a.u=new g.L(a.vR,200,a)),a.u.start()}
switch(a.D){case "Anaglyph3D":a.Jc=new C$(a.I,b);break;case "Spherical":a.Jc=new M$(a.I,b,c);break;case "NoOp":a.Jc=new o$(a.I,c);break;case "BicubicSharp":a.Jc=new q$(a.I,c)}if(a.Jc){a.error=O3a(a);if(0===a.error)return a.enabled&&N3a(a)&&(a.Jb.style.display="none"),a.xb(),!0;a.I.qo("html5.missingapi.webgl",{code:a.error});a.Jc=null}return!1},N3a=function(a){var b=a.I.V().playerStyle,c=a.I.getVideoData();
c=!(!c||!c.Kr);return!g.mA||P3a(a)||"picasaweb"===b||c},O3a=function(a){a.j=g.ci("CANVAS");
if(!a.j)return 1;a.parent.appendChild(a.j);var b={antialias:!1};g.Ec||g.ot||(b.alpha=!1);try{a.gl=a.j.getContext("webgl",b)||a.j.getContext("experimental-webgl",b)||a.j.getContext("webgl")||a.j.getContext("experimental-webgl")}catch(c){return 2}if(null==a.gl)return 3;a.J=new B3a(a.gl);b=Q3a(a);if(0!==b)return b;b=a.Jc;a.j.addEventListener("webglcontextlost",function(c){c.preventDefault();a.error=12;a.I.qo("html5.missingapi.webgl",{code:a.error});if(a.Z){c=a.Y;var d=n$();c.u?(c.u=!1,c.j.length=0,d.unshift(0)):
d[0]=0;15<d.length&&(d.length=15);k3a(d)}a.ra()},!1);
b.OG(a.gl);R3a(a);S3a(a);a.Jb.crossOrigin="use-credentials";T3a(a);return 0},Q3a=function(a){var b=a.gl,c=a.Jc;
c.fu(a.J);var d=b.createShader(b.VERTEX_SHADER);b.shaderSource(d,c.tG());b.compileShader(d);if(!b.getShaderParameter(d,b.COMPILE_STATUS))return 4;var e=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(e,c.jG());b.compileShader(e);if(!b.getShaderParameter(e,b.COMPILE_STATUS))return 5;var f=b.createProgram();b.attachShader(f,d);if(1!==b.getProgramParameter(f,b.ATTACHED_SHADERS))return 6;b.attachShader(f,e);if(2!==b.getProgramParameter(f,b.ATTACHED_SHADERS))return 7;b.linkProgram(f);if(!1===b.getProgramParameter(f,
b.LINK_STATUS))return 8;b.validateProgram(f);b.useProgram(f);if(!1===b.getProgramParameter(f,b.VALIDATE_STATUS))return 9;b.deleteShader(d);b.deleteShader(e);a.C=f;c.Wi(b,a.C,a.parent);return 0},R3a=function(a){var b=a.gl,c=C3a(a.J)?0:b.TEXTURE_2D,d=b.createTexture();
b.activeTexture(b.TEXTURE0);b.bindTexture(c,d);b.texParameteri(c,b.TEXTURE_MIN_FILTER,b.LINEAR);b.texParameteri(c,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(c,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(c,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);a.S=d},S3a=function(a){var b=a.gl;
b.clearColor(0,0,0,1);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.Jc&&a.Jc.UH(b)},T3a=function(a){a.K=!1;
a.vR();if(a.gl&&a.Jc&&(a.Jb.videoWidth||a.Jb.videoHeight)&&(a.Jc.Yo(a.gl,a.Jb),a.B&&(a.I.Tk(),a.Z))){var b=a.Y;if(b.u){var c=(0,g.R)();b.j.push(1E3/(c-b.B));b.B=c;if(1200<=b.j.length){b.u=!1;c=j3a(b.j)|0;var d=n$();d.unshift(c);15<d.length&&(d.length=15);k3a(d);b.j.length=0}}}a.B&&a.requestAnimationFrame()},P3a=function(a){if("Anaglyph3D"!==a.D)return!1;
var b=a.I.Ya().getVideoAspectRatio();a=a.I.getVideoData();return isNaN(b)||a&&(g.nE(a,"yt:stretch")||g.nE(a,"yt:crop"))?!1:.01>Math.abs(b-32/9)||.01>Math.abs(b-8/9)},N$=function(a){g.V.call(this,{G:"div",
L:"ytp-webgl-spherical-control",W:{tabindex:"0","aria-label":"Spherical video control. Use the arrow keys to pan the video."},U:[{G:"svg",W:{height:"100%",version:"1.1",viewBox:"0 0 50 50",width:"100%"},U:[{G:"circle",Mb:!0,W:{cx:"25",cy:"25",fill:"#fff",r:"24"}},{G:"path",Mb:!0,W:{d:"M11.46,29.41 L9.97,30.90 L4,24.95 L9.97,19 L11.46,20.48 L7.00,24.95 L11.46,29.41 M42.46,24.95 L38,20.48 L39.48,19 L45.46,24.95 L39.48,30.90 L38,29.41 L42.46,24.95 M24.5,42.43 L28.96,37.96 L30.45,39.45 L24.5,45.43 L18.54,39.45 L20.03,37.96 L24.5,42.43 M24.5,6.97 L20.03,11.43 L18.54,9.94 L24.5,3.96 L30.45,9.94 L28.96,11.43 L24.5,6.97 Z",
fill:"#999"}}]}]});var b=this;this.api=a;this.j=this.B=null;this.u=new g.iA;this.C=[];this.Ga=!1;this.La=null;this.D=new g.xp(function(c){b.animate(c)},null);
this.Ia=-1;this.va=this.J=this.S=this.K=this.Z=this.Aa=this.Y=0;this.ma=!1;g.H(this,this.u);g.H(this,this.D);this.T(a,"videodatachange",this.Ha);this.T(a,"webglsettingschanged",this.Ha);this.hide();this.Ha()},O$=function(a,b,c,d){a.Z=g.sh(b+a.Z,-1,1);
a.S=g.sh(c+a.S,-1,1);a.va=g.sh(d+a.va,-1,1);a.Ga||(a.Ga=!0,g.M(a.element,"ytp-dragging"),a.Ia=g.Ta(),a.D.start())},P$=function(a){a.D.stop();
a.Ga=!1;a.Z=0;a.S=0;a.va=0;a.C=[];g.Hp(a.element,"ytp-dragging")},U3a=function(a,b,c,d,e,f){var k=f-a.Ia;
a.K=(a.Y*a.K+(b-e.yaw))/(k+a.Y);a.J=(a.Y*a.J+(c-e.pitch))/(k+a.Y);a.Ia=f;a.Y=k;f$(a.api,{Jc:"Spherical",yaw:b,pitch:c,fov:d})},Q$=function(a,b){g.kN.call(this,"3D",8,a,b);
this.I=a;this.j=void 0;this.T(a,"videodatachange",this.Ha);this.T(a,"webglsettingschanged",this.Ha);this.Ha()},R$=function(a){g.cK.call(this,a);
this.B=this.jq=this.view=this.u=null;this.j=new g.iA(this);g.H(this,this.j);this.C=new g.V({G:"div",L:"webgl"});g.H(this,this.C);this.load()},V3a=function(a){var b=a.getVideoData(),c=a.V();
return g.tE(b)?"Anaglyph3D":g.rE(b)||g.uE(b)||g.sE(b)?"Spherical":c.N("enable_webgl_noop")&&q3a(b,c,a)?"NoOp":c.N("html5_enable_bicubicsharp")&&q3a(b,c,a)?"BicubicSharp":""};
d$.prototype.setMediaElement=function(a){this.mediaElement?this.mediaElement!==a&&(c$(this),this.mediaElement=a,this.u=null):this.mediaElement=a};
d$.prototype.isDisposed=function(){return this.C};
d$.prototype.dispose=function(){this.C=!0;c$(this);this.u=null};
var e$=!1;g.PR.prototype.Vp=g.ca(39,function(a,b,c){g.OR(this,g.zO(this.j),"dir",[a.toFixed(3),b.toFixed(3),c])});
g.jS.prototype.Vp=g.ca(38,function(a,b,c){this.qoe&&this.qoe.Vp(a,b,c)});
g.dT.prototype.Vp=g.ca(37,function(a,b,c){this.Zb.Vp(a,b,c)});
g.PR.prototype.Wp=g.ca(36,function(a,b){g.OR(this,g.zO(this.j),"fov",[a,b])});
g.jS.prototype.Wp=g.ca(35,function(a,b){this.qoe&&this.qoe.Wp(a,b)});
g.dT.prototype.Wp=g.ca(34,function(a,b){this.Zb.Wp(a,b)});
g.xJ.prototype.Tk=g.ca(16,function(){var a=g.GJ(this.app);a&&a.Tk()});
g.PR.prototype.Tk=g.ca(15,function(){this.S+=1});
g.jS.prototype.Tk=g.ca(14,function(){this.qoe&&this.qoe.Tk()});
g.dT.prototype.Tk=g.ca(13,function(){this.Zb.Tk()});
g.xJ.prototype.Qx=g.ca(12,function(){return this.app.Qx()});
g.CT.prototype.Qx=g.ca(11,function(){if(!this.mediaElement||!this.mediaElement.Cq())return null;var a=this.mediaElement;this.Bd?this.Bd.setMediaElement(a):(this.Bd=f3a(this.Ra,a))&&g.H(this,this.Bd);return this.Bd});
g.xJ.prototype.Px=g.ca(10,function(){var a=g.GJ(this.app);return a?a.Px():0});
g.dT.prototype.Px=g.ca(9,function(){var a=g.qT(this);return a?a.video.j:0});
i$.prototype.BYTES_PER_ELEMENT=4;i$.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};
i$.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(i$.BYTES_PER_ELEMENT=4,i$.prototype.BYTES_PER_ELEMENT=i$.prototype.BYTES_PER_ELEMENT,i$.prototype.set=i$.prototype.set,i$.prototype.toString=i$.prototype.toString,g.Ha("Float32Array",i$));j$.prototype.BYTES_PER_ELEMENT=8;j$.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};
j$.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{j$.BYTES_PER_ELEMENT=8}catch(a){}j$.prototype.BYTES_PER_ELEMENT=j$.prototype.BYTES_PER_ELEMENT;j$.prototype.set=j$.prototype.set;j$.prototype.toString=j$.prototype.toString;g.Ha("Float64Array",j$)};var s3a={Gu:function(){return""},
Iu:function(){return"varying vec2 a;attribute vec3 b;void main(){a=vec2((b.x+1.)*.5,(1.-b.y)*.5);gl_Position=vec4(b,1);}"},
Au:function(){return"precision mediump float;varying vec2 a;uniform sampler2D c;uniform vec2 d;uniform float e;float q(float f){float g,h,i;g=f*f;h=g*abs(f);i=.5-.5*e;return (2.-1.5*e-i)*h+(-3.+2.*e+i)*g+(1.-.33333*e);}float r(float f){f=abs(f);float g,h,i;g=f*f;h=g*f;i=.5-.5*e;return (-.16667*e-i)*h+(e+5.*i)*g+(-2.*e-8.*i)*f+1.33333*e+4.*i;}void main(){vec2 f,g,h,i,j,k,l,m,n,o,p;f=1./d;g=a*d-.5;h=fract(g);i=g-h-.5;j=i+1.;k=i+2.;l=i+3.;i=vec2(i.x*f.x,i.y*f.y);j=vec2(j.x*f.x,j.y*f.y);k=vec2(k.x*f.x,k.y*f.y);l=vec2(l.x*f.x,l.y*f.y);m=vec2(r(h.x+1.),r(h.y+1.));n=vec2(q(h.x),q(h.y));o=vec2(q(1.-h.x),q(1.-h.y));p=vec2(r(2.-h.x),r(2.-h.y));gl_FragColor=texture2D(c,vec2(i.x,i.y))*m.x*m.y+texture2D(c,vec2(j.x,i.y))*n.x*m.y+texture2D(c,vec2(k.x,i.y))*o.x*m.y+texture2D(c,vec2(l.x,i.y))*p.x*m.y+texture2D(c,vec2(i.x,j.y))*m.x*n.y+texture2D(c,vec2(j.x,j.y))*n.x*n.y+texture2D(c,vec2(k.x,j.y))*o.x*n.y+texture2D(c,vec2(l.x,j.y))*p.x*n.y+texture2D(c,vec2(i.x,k.y))*m.x*o.y+texture2D(c,vec2(j.x,k.y))*n.x*o.y+texture2D(c,vec2(k.x,k.y))*o.x*o.y+texture2D(c,vec2(l.x,k.y))*p.x*o.y+texture2D(c,vec2(i.x,l.y))*m.x*p.y+texture2D(c,vec2(j.x,l.y))*n.x*p.y+texture2D(c,vec2(k.x,l.y))*o.x*p.y+texture2D(c,vec2(l.x,l.y))*p.x*p.y;gl_FragColor.a=1.;}"},
IJ:"c",KJ:"d",HJ:"e",wA:"b"};var p3a={Gu:function(){return""},
Iu:function(){return"varying vec2 a;attribute vec3 b;void main(){a=vec2((b.x+1.)*.5,(1.-b.y)*.5);gl_Position=vec4(b,1);}"},
Au:function(){return"precision mediump float;varying vec2 a;uniform sampler2D c;void main(){gl_FragColor=texture2D(c,a);}"},
JJ:"c",wA:"b"};g.h=l$.prototype;
g.h.dg=function(a){if(null==this.u)return a;var b=new g.yh(a.videoWidth,a.videoHeight);if(!g.zh(b,this.D)&&(null!==this.u&&(this.u.canvas.width=b.width,this.u.canvas.height=b.height),this.j.top=0,this.j.left=0,this.j.width=b.width,this.j.height=b.height,this.D=b,0<this.B)){this.B=3;var c=this.I.Ya().getVideoAspectRatio(),d=16/9;c<d?(this.j.width=b.width*c/d,this.j.left=Math.ceil(.5*(b.width-this.j.width)),this.j.width|=0):c>d&&(this.j.height=b.height*d/c,this.j.top=Math.ceil(.5*(b.height-this.j.height)),
this.j.height|=0)}0<this.B&&(this.C^=1,2<=this.j.top?(this.C?m$(this,a,0,0,this.j.width,this.j.top-1):m$(this,a,0,a.videoHeight-this.j.top+1,this.j.width,this.j.top-1))&&--this.B:2<=this.j.left&&(this.C?m$(this,a,0,0,this.j.left-1,this.j.height):m$(this,a,a.videoWidth-this.j.left+1,0,this.j.left-1,this.j.height))&&--this.B,0>=this.B&&(this.j.top=0,this.j.left=0,this.j.width=a.videoWidth,this.j.height=a.videoHeight));i3a(this,a,this.j.left,this.j.top,this.j.width,this.j.height,0,0,this.D.width,this.D.height);
return this.u.canvas};
g.h.fu=function(a,b,c){C3a(a)&&b.mw&&(c[b.mw]=1,this.J=this.B0)};
g.h.C0=function(a,b){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.dg(b))};
g.h.B0=function(){};
g.h.destroy=function(){null!==this.u&&(this.u.canvas.remove?this.u.canvas.remove():this.u.canvas.removeNode(!0),this.u=null)};var l3a=[/Swift|Basic|Software|AMD_760G/,/Intel.*(Express|3600)/,/Radeon.*_(R[2-4]|\d[0-3]\d\d)/,/GeForce_\d[0-3]\d\d/],p$=null;if(navigator.getBattery){var S$=navigator.getBattery();void 0!==S$&&S$.then&&S$.then(function(a){p$=a})};g.h=o$.prototype;g.h.tG=function(){return this.Gd.Iu()};
g.h.jG=function(){return this.Gd.Au()};
g.h.OG=function(a){var b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,0,-1,1,0,1,1,0]),a.STATIC_DRAW);this.Hm=b};
g.h.fu=function(){};
g.h.Wi=function(a,b){this.Gd.wA&&this.Gd.JJ&&(this.Or=a.getAttribLocation(b,this.Gd.wA),a.enableVertexAttribArray(this.Or),a.uniform1i(a.getUniformLocation(b,this.Gd.JJ),0))};
g.h.UH=function(a){a.bindBuffer(a.ARRAY_BUFFER,this.Hm);a.vertexAttribPointer(this.Or,3,a.FLOAT,!1,0,0)};
g.h.xb=function(a){this.Sz=a.Sz;r3a(this)};
g.h.onPlaybackQualityChange=function(a,b,c,d){this.videoWidth=c;this.videoHeight=d;r3a(this)};
g.h.Yo=function(a,b){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.nq.dg(b));a.drawArrays(a.TRIANGLE_STRIP,0,4)};
g.h.kQ=function(){return!0};
g.h.getSettings=function(){return{Jc:"NoOp",xW:"noop"}};
g.h.vg=function(){};
g.h.destroy=function(a){this.Hm&&a&&a.deleteBuffer(this.Hm);this.nq&&this.nq.destroy()};g.w(q$,o$);q$.prototype.Wi=function(a,b,c){o$.prototype.Wi.call(this,a,b,c);this.Ur=a.getUniformLocation(b,this.Gd.KJ);if((c=this.I.getVideoData())&&c.u&&c.u.video)this.onPlaybackQualityChange(a,b,c.u.video.width,c.u.video.height);else a.uniform2f(this.Ur,640,360);this.Xu=a.getUniformLocation(b,this.Gd.HJ);a.uniform1f(this.Xu,-.4)};
q$.prototype.getSettings=function(){return{Jc:"BicubicSharp"}};
q$.prototype.onPlaybackQualityChange=function(a,b,c,d){o$.prototype.onPlaybackQualityChange.call(this,a,b,c,d);a&&a.uniform2f(this.Ur,c,d)};r$.prototype.rotate=function(a,b){var c=Math.sin(a);a=Math.cos(a);var d=Math.sin(b);b=Math.cos(b);this.jB.gain.value=this.j*(a*b*this.x-c*this.y);this.kB.gain.value=this.j*(c*b*this.x+a*this.y);this.lB.gain.value=this.j*d*this.x};
r$.prototype.destroy=function(){delete this.iB;delete this.jB;delete this.kB;delete this.lB};s$.prototype.UQ=function(){c$(this.Bd);var a=g3a(this.Bd,this.j.channelCount),b=h3a(this.Bd,2),c=65*Math.PI/180;this.u=new r$(this.Bd,this.j,a,b,0,.45,c);this.B=new r$(this.Bd,this.j,a,b,1,.45,-1*c);null!=this.j.UB&&null!=this.j.r&&(a.connect(b,this.j.UB,0),a.connect(b,this.j.r,1));g$(this.Bd).connect(a);b.connect(this.Bd.j.destination)};
s$.prototype.J=function(){this.u&&this.B&&(this.u.destroy(),this.B.destroy(),this.B=this.u=null);c$(this.Bd);g$(this.Bd).connect(this.Bd.j.destination)};
s$.prototype.rotate=function(a,b){this.u&&this.B&&(this.u.rotate(a,b),this.B.rotate(a,b))};
s$.prototype.destroy=function(){this.u&&(c$(this.Bd),this.J())};g.w(t$,s$);
t$.prototype.UQ=function(){c$(this.Bd);var a=g3a(this.Bd,this.j.channelCount),b=this.Bd.j.destination;b.channelCount=Math.min(6,b.maxChannelCount);b.channelInterpretation="discrete";b=h3a(this.Bd,6);var c=Math.PI/6;this.u=new r$(this.Bd,this.j,a,b,0,.65,c);this.B=new r$(this.Bd,this.j,a,b,1,.65,-1*c);null!=this.j.UB&&null!=this.j.r&&(a.connect(b,this.j.UB,0),a.connect(b,this.j.r,1));c=120*Math.PI/180;this.C=new r$(this.Bd,this.j,a,b,4,.65,c);this.D=new r$(this.Bd,this.j,a,b,5,.65,-1*c);g$(this.Bd).connect(a);
b.connect(this.Bd.j.destination)};
t$.prototype.J=function(){this.C&&(this.C.destroy(),this.D.destroy(),this.D=this.C=null);s$.prototype.J.call(this)};
t$.prototype.rotate=function(a,b){this.u&&(this.u.rotate(a,b),this.B.rotate(a,b),this.C.rotate(a,b),this.D.rotate(a,b))};u$.prototype.identity=function(){this.elements.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};
u$.prototype.get=function(){return this.elements};z3a.prototype.flush=function(){var a=null;if(5<=this.j.length){a=this.j;for(var b=Array(2*a.length),c=0,d=0,e=0;e<a.length;++e)b[e]=a[e].x-c&255,b[e+a.length]=a[e].y-d&255,c=a[e].x,d=a[e].y;a=y3a(b);a={start:this.B,duration:1===this.Yd?this.u:0,data:g.wc(a,2)}}this.j=[];this.u=0;return a};var T$=Math.PI/2,A3a=g.hs||g.gma(),W3a=.4*T$,X3a=.6*T$;g.h=z$.prototype;g.h.tG=function(){return""};
g.h.jG=function(){return""};
g.h.OG=function(){};
g.h.fu=function(){};
g.h.Wi=function(){var a=this.api;var b=a.getVideoData();var c;if(c=b)b.J&&b.J.audio?(c=b.J.audio.spatialAudioType,c=!!c&&0!=c):c=!1;c?(a=a.Qx())?(b=b.J.audio.spatialAudioType,c=a.j.destination,b=6<=c.maxChannelCount&&!g.Fx?new t$(a,b,t3a(b)):2<=c.maxChannelCount?new s$(a,b,t3a(b)):null):b=null:b=null;if(this.j=b)this.j.UQ(),this.j.rotate(this.yaw,this.pitch)};
g.h.UH=function(){};
g.h.xb=function(){this.Rz=!0};
g.h.onPlaybackQualityChange=function(){};
g.h.Yo=function(a){var b=this.hp,c=this.ip;if(this.Rz){var d=a.j;a=a.Sz;d>a?(this.hp=this.fov,this.ip=Math.atan(Math.tan(this.fov)*a/d)):(this.ip=this.fov,this.hp=Math.atan(Math.tan(this.fov)*d/a));this.u?(u3a(this.Le,this.alpha*Math.PI/180,this.beta*Math.PI/180,-this.gamma*Math.PI/180),w$(this.Le,-T$),x$(this.Le,-this.orientation*Math.PI/180),this.C=this.C||y$(this.Le),d=-Math.asin(this.Le.elements[9]),this.pitch=g.sh(this.pitch,Math.max(-T$,-T$-d),Math.min(T$,T$-d)),u3a(this.Le,y$(this.Le)-this.C+
this.yaw,d+this.pitch,w3a(this.Le))):(d=T$,this.Kr&&(this.yaw=g.sh(this.yaw,-W3a,W3a),d=X3a),this.pitch=g.sh(this.pitch,-d,d),this.Le.identity(),v3a(this.Le,this.yaw),w$(this.Le,this.pitch),x$(this.Le,this.roll));this.j&&this.j.rotate(y$(this.Le),-Math.asin(this.Le.elements[9]));this.Rz=!1}d=g.Ta();this.B[0]=-this.Le.get()[8];this.B[1]=-this.Le.get()[9];this.B[2]=-this.Le.get()[10];a=this.S;var e=this.B;var f=this.api.getCurrentTime();var k=d/1E3,l=this.api.getPlayerState(),m=null;if(1===l){var n=
a.B;var p=a.C;var q=f}else n=a.K,p=a.J,q=k;var t=0!==a.j.length;if(t){var v=150<=a.j.length;if(a.Yd!==l||.5<q-p||q<p||v)m=a.flush(),t=!1}if(1===l||2===l||3===l){if(t)for(n=n+a.u+.2;n<q;){v=(n-p)/(q-p);a.u+=.2;t=a.D;var x=e,y=v;v=new Float32Array(3);var z=k$(t),E=k$(x),J=(t[0]*x[0]+t[1]*x[1]+t[2]*x[2])/(z*E);if(.999999<J)z=t[0],E=t[1],t=t[2],v[0]=(x[0]-z)*y+z,v[1]=(x[1]-E)*y+E,v[2]=(x[2]-t)*y+t,t=v;else{if(-.999999>J){J=new Float32Array(3);var I=(z+E)/2;t[0]?(I/=Math.sqrt(t[0]*t[0]+t[1]+t[1]),J[0]=
-t[1]*I,J[1]=t[0]*I,J[2]=0):(I/=Math.sqrt(t[2]*t[2]+t[1]+t[1]),J[0]=0,J[1]=-t[2]*I,J[2]=t[1]*I);.5>=y?(E=z,x=J,y*=2):(t=J,y=2*y-1);I=Math.PI/2;var N=1}else I=Math.acos(J),N=Math.sqrt(1-J*J);J=Math.sin((1-y)*I)/N/z;I=Math.sin(y*I)/N/E;y=(1-y)*z+y*E;v[0]=(t[0]*J+x[0]*I)*y;v[1]=(t[1]*J+x[1]*I)*y;v[2]=(t[2]*J+x[2]*I)*y;t=v}a.j.push(x3a(t));n+=.2}else a.B=f,a.K=k,a.j.push(x3a(e)),a.u=0;a.D=e;a.C=f;a.J=k;a.Yd=l}f=m;f&&(a=f.start,e=f.duration,f=f.data,(k=g.GJ(this.api.app))&&k.Vp(a,e,f));(this.J!==this.hp||
this.K!==this.ip)&&3E4<d-this.D&&b===this.hp&&c===this.ip&&(this.J=this.hp,this.K=this.ip,this.D=d,b=Math.round(360*this.hp/Math.PI),c=Math.round(360*this.ip/Math.PI),(d=g.GJ(this.api.app))&&d.Wp(b,c))};
g.h.kQ=function(){return!1};
g.h.getSettings=function(){return{Jc:"Spherical",yaw:this.yaw,pitch:this.pitch,roll:this.roll,fov:this.fov}};
g.h.vg=function(a){"Spherical"===a.Jc&&(a.IW&&(!1===a.enableOrientationSensor&&this.u?(this.u=!1,this.alpha=0,this.beta=90,this.orientation=this.gamma=0):!0===a.enableOrientationSensor&&(this.u=A3a),this.u&&(delete a.yaw,delete a.pitch,delete a.roll,delete a.alpha,delete a.beta,delete a.gamma)),void 0===a.yaw||isNaN(a.yaw)||(this.yaw=a.yaw),void 0===a.pitch||isNaN(a.pitch)||(this.pitch=a.pitch),void 0===a.roll||isNaN(a.roll)||(this.roll=a.roll),void 0===a.alpha||isNaN(a.alpha)||(this.alpha=a.alpha),
void 0===a.beta||isNaN(a.beta)||(this.beta=a.beta),void 0===a.gamma||isNaN(a.gamma)||(this.gamma=a.gamma),void 0===a.orientation||isNaN(a.orientation)||(this.orientation=a.orientation),void 0===a.fov||isNaN(a.fov)||(this.fov=g.sh(a.fov,.2618,1.0472)),this.Rz=!0,this.BA(),this.api.Oa("onWebglSettingsChanged"))};
g.h.destroy=function(){this.j&&this.j.destroy()};var D3a={Gu:function(){return""},
Iu:function(){return"varying vec2 a;attribute vec3 b;void main(){a=vec2((b.x+1.)*.5,(1.-b.y)*.5);gl_Position=vec4(b,1);}"},
Au:function(){return"precision mediump float;varying vec2 a;uniform sampler2D c;uniform int d;const mat4 e=mat4(.456,-.04,-.015,0,.5,-.038,-.021,0,.176,-.016,-.005,0,0,0,0,1);const mat4 f=mat4(-.043,.378,-.072,0,-.088,.734,-.113,0,0,-.018,1.226,0,0,0,0,1);void k(float g,float h){g*=.5;vec4 i,j;i=texture2D(c,vec2(g,h));j=texture2D(c,vec2(.5+g,h));gl_FragColor=e*i+f*j;}void main(){if(d==2)k(a.x,a.y);else if(d==1)gl_FragColor=texture2D(c,vec2(a.x*.5,a.y));}"},
JJ:"c",mode:"d",wA:"b"};A$.prototype.Wi=function(a,b,c){this.B=a.getUniformLocation(b,c);B$(this,a)};
A$.prototype.vg=function(a,b){var c=null;(void 0===b?0:b)&&this.j&&(c=g.hw(this.j));c||null==a.displayMode||(c=a.displayMode);null!=c&&c!==this.displayMode&&(this.displayMode=c,this.u=!0,this.j&&0!==this.displayMode&&g.gw(this.j,this.displayMode));return this.u?!0:!1};g.w(C$,o$);C$.prototype.Wi=function(a,b,c){o$.prototype.Wi.call(this,a,b,c);this.qj.Wi(a,b,this.Gd.mode)};
C$.prototype.Yo=function(a,b){B$(this.qj,a);o$.prototype.Yo.call(this,a,b)};
C$.prototype.getSettings=function(){var a={Jc:"Anaglyph3D"},b=this.qj;0!==b.displayMode&&(a.displayMode=b.displayMode);return a};
C$.prototype.vg=function(a){"Anaglyph3D"===a.Jc&&(this.qj.vg(a)&&this.I.ea("webglsettingschanged",this.getSettings()),this.BA())};var U$=null;E$.prototype.Yo=function(a){this.B&&a.uniform4f(this.C,Math.random()+1,Math.random()+1,Math.random()+1,Math.random()+1)};
E$.prototype.Wi=function(a,b){this.Ur=a.getUniformLocation(b,this.Gd.KJ);this.C=a.getUniformLocation(b,this.Gd.D0);this.j=a.getUniformLocation(b,this.Gd.E0);this.Xu=a.getUniformLocation(b,this.Gd.HJ);a.uniform1i(a.getUniformLocation(b,this.Gd.vD),0);a.uniform1f(this.j,0);if((b=this.I.getVideoData())&&b.u)this.onPlaybackQualityChange(a,b.u.video.width,b.u.video.height);else b=Math.min(4096,a.getParameter(3379)),a.uniform2f(this.Ur,b,b);1===this.u||2===this.u?a.uniform1f(this.Xu,-.5):a.uniform1f(this.Xu,
2)};
E$.prototype.onPlaybackQualityChange=function(a,b,c){a&&(a.uniform2f(this.Ur,b,c),2===this.u&&(1080>c?(a.uniform1f(this.j,.04),this.B=!0):(a.uniform1f(this.j,0),this.B=!1)))};var D$={mw:"enableOesEglImageExternal"},Y3a=[0,1];D$.Gu=function(a){var b="";a=a[D$.mw];void 0!==a&&a in Y3a&&(b+="#define _a "+a+"\n");return b};
D$.Iu=function(){return"varying vec2 a,b;uniform mat4 c;uniform vec2 d,e;attribute vec4 f;attribute vec2 g;void main(){gl_Position=c*f;a=g*d;b=a+e;}"};
D$.Au=function(){return"#ifdef _a\n#extension GL_OES_EGL_image_external : enable\n#endif\nprecision mediump float;varying vec2 a,b;\n#ifdef _a\nuniform samplerExternalOES h;\n#else\nuniform sampler2D h;\n#endif\nuniform int i;uniform vec2 j;uniform vec4 k;uniform float l,m;const mat4 n=mat4(-.043,.378,-.072,0,-.088,.734,-.113,0,0,-.018,1.226,0,0,0,0,1);const mat4 o=mat4(.456,-.04,-.015,0,.5,-.038,-.021,0,.176,-.016,-.005,0,0,0,0,1);float D(float p){float q,r,s;q=p*p;r=q*abs(p);s=.5-.5*m;return ((12.-9.*m-6.*s)*r+(-18.+12.*m+6.*s)*q+(6.-2.*m))/6.;}float E(float p){p=abs(p);float q,r,s;q=p*p;r=q*p;s=.5-.5*m;return ((-m-6.*s)*r+(6.*m+30.*s)*q+(-12.*m-48.*s)*p+8.*m+24.*s)/6.;}vec4 F(sampler2D p,vec2 q){vec2 r,s,t,u,v,w,x,A,B,C;r=1./j;q=q*j-.5;s=fract(q);t=q-s-.5;u=t+1.;v=t+2.;w=t+3.;t=vec2(t.x*r.x,t.y*r.y);u=vec2(u.x*r.x,u.y*r.y);v=vec2(v.x*r.x,v.y*r.y);w=vec2(w.x*r.x,w.y*r.y);x=vec2(E(s.x+1.),E(s.y+1.));A=vec2(D(s.x),D(s.y));B=vec2(D(1.-s.x),D(1.-s.y));C=vec2(E(2.-s.x),E(2.-s.y));return texture2D(p,vec2(t.x,t.y))*x.x*x.y+texture2D(p,vec2(u.x,t.y))*A.x*x.y+texture2D(p,vec2(v.x,t.y))*B.x*x.y+texture2D(p,vec2(w.x,t.y))*C.x*x.y+texture2D(p,vec2(t.x,u.y))*x.x*A.y+texture2D(p,vec2(u.x,u.y))*A.x*A.y+texture2D(p,vec2(v.x,u.y))*B.x*A.y+texture2D(p,vec2(w.x,u.y))*C.x*A.y+texture2D(p,vec2(t.x,v.y))*x.x*B.y+texture2D(p,vec2(u.x,v.y))*A.x*B.y+texture2D(p,vec2(v.x,v.y))*B.x*B.y+texture2D(p,vec2(w.x,v.y))*C.x*B.y+texture2D(p,vec2(t.x,w.y))*x.x*C.y+texture2D(p,vec2(u.x,w.y))*A.x*C.y+texture2D(p,vec2(v.x,w.y))*B.x*C.y+texture2D(p,vec2(w.x,w.y))*C.x*C.y;}void G(vec2 p){vec4 q,s;q=.5-abs(gl_FragColor-.5);float r=min(min(q.r,q.g),min(q.b,l));s=vec4(mod(p.x*12.9898+p.y*78.233,3.1415));s=fract(sin(s)*43755.23895*k);gl_FragColor.rgb+=mix(-r,r,dot(s,vec4(1))/4.);}void main(){if(i==2){vec4 p,q;p=o*texture2D(h,a);q=n*texture2D(h,b);gl_FragColor=p+q;}else{if(abs(m)>1.)gl_FragColor=texture2D(h,a);else gl_FragColor=F(h,a);if(l>1e-4)G(a);}}"};
D$.yR="c";D$.xR="d";D$.wR="e";D$.IJ="h";D$.vD="i";D$.KJ="j";D$.D0="k";D$.E0="l";D$.HJ="m";D$.bM="f";D$.aM="g";var L$={mw:"enableOesEglImageExternal"},Z3a=[0,1];L$.Gu=function(a){var b="";a=a[L$.mw];void 0!==a&&a in Z3a&&(b+="#define _a "+a+"\n");return b};
L$.Iu=function(){return"varying vec2 a,b;uniform mat4 c;uniform vec2 d,e;attribute vec4 f;attribute vec2 g;void main(){gl_Position=c*f;a=g*d;b=a+e;}"};
L$.Au=function(){return"#ifdef _a\n#extension GL_OES_EGL_image_external : enable\n#endif\nprecision mediump float;varying vec2 a,b;\n#ifdef _a\nuniform samplerExternalOES h;\n#else\nuniform sampler2D h;\n#endif\nuniform int i;const mat4 j=mat4(-.043,.378,-.072,0,-.088,.734,-.113,0,0,-.018,1.226,0,0,0,0,1);const mat4 k=mat4(.456,-.04,-.015,0,.5,-.038,-.021,0,.176,-.016,-.005,0,0,0,0,1);void main(){if(i==2){vec4 l,m;l=k*texture2D(h,a);m=j*texture2D(h,b);gl_FragColor=l+m;}else gl_FragColor=texture2D(h,a);}"};
L$.yR="c";L$.xR="d";L$.wR="e";L$.IJ="h";L$.vD="i";L$.bM="f";L$.aM="g";var I$={};g.w(H$,F3a);g.w(M$,z$);g.h=M$.prototype;g.h.tG=function(){var a=this.Gd.Gu,b=this.Gd.Iu;return a(this.xG)+b()};
g.h.jG=function(){var a=this.Gd.Gu,b=this.Gd.Au;return a(this.xG)+b()};
g.h.OG=function(a){this.Hm=a.createBuffer();this.Iz=a.createBuffer()};
g.h.fu=function(a){z$.prototype.fu.call(this,a);this.nq.fu(a,this.Gd,this.xG)};
g.h.Wi=function(a,b,c){z$.prototype.Wi.call(this,a,b,c);this.Or=a.getAttribLocation(b,this.Gd.bM);a.enableVertexAttribArray(this.Or);this.gH=a.getAttribLocation(b,this.Gd.aM);a.enableVertexAttribArray(this.gH);this.MO=a.getUniformLocation(b,this.Gd.yR);this.LO=a.getUniformLocation(b,this.Gd.IJ);a.uniform1i(this.LO,0);this.qj.Wi(a,b,this.Gd.vD);this.Wt&&this.Wt.Wi(a,b)};
g.h.UH=function(a){a.bindBuffer(a.ARRAY_BUFFER,this.Hm);a.vertexAttribPointer(this.Or,3,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Iz);a.vertexAttribPointer(this.gH,2,a.FLOAT,!1,0,0)};
g.h.onPlaybackQualityChange=function(a,b,c,d){if(this.Wt)this.Wt.onPlaybackQualityChange(a,c,d);var e=this.api.getVideoData();c=this.api.V().experiments;var f=[];d=0;if(g.uE(e)){if(e.j){var k=e.j.j[e.u.id];if(k.B)e=k.B;else{f=k.info.video.width;k=k.info.j;for(var l=Infinity,m=null,n=g.r(Object.keys(e.j.j)),p=n.next();!p.done;p=n.next())p=e.j.j[p.value],p.info.j==k&&p.B&&Math.abs(p.info.video.width-f)<l&&(m=p.B,l=Math.abs(p.info.video.width-f));e=m}}else e=null;f=e?I3a(e.u):[];e&&(d=e.j)}else{k=g.rE(e);
e=g.sE(e);if(k||e){if(!U$){f=[];k=[];l=[];m=[];n=[];p=[];for(var q=0;60>=q;q++){var t=1*q/60;f.push(t);k.push(Math.cos((2*t+.5)*Math.PI));l.push(Math.sin((2*t+.5)*Math.PI))}for(q=0;60>=q;q++)t=1*q/60-.5,t=.632456*t/Math.sqrt(t*t+.15)+.5,m.push(t),n.push(Math.cos((1-t)*Math.PI)),p.push(Math.sin((1-t)*Math.PI));q=[];for(t=0;t<m.length-1;t++){for(var v=0;v<f.length;v++)q.push([k[v]*p[t],n[t],l[v]*p[t],f[v],m[t]]),q.push([k[v]*p[t+1],n[t+1],l[v]*p[t+1],f[v],m[t+1]]);q.push([k[0]*p[t+1],n[t+1],l[0]*p[t+
1],f[0],m[t+1]]);q.push([k[f.length-1]*p[t+1],n[t+1],l[f.length-1]*p[t+1],f[f.length-1],m[t+1]])}U$=new E3a(q,5)}f=[U$]}e&&(d=2)}if(f.length){if(!this.Vo)switch(e=a.getUniformLocation(b,this.Gd.xR),k=a.getUniformLocation(b,this.Gd.wR),this.lD=1,d){default:a.uniform1i(a.getUniformLocation(b,this.Gd.vD),0);a.uniform2f(e,1,1);a.uniform2f(k,0,0);break;case 1:a.uniform2f(e,.5,1);a.uniform2f(k,.5,0);break;case 2:a.uniform2f(e,1,.5),a.uniform2f(k,0,.5)}this.Kr&&!c.jb("html5_desktop_vr180_allow_panning")&&
(this.lD=0);this.Kr||1!==d&&2!==d||this.qj.vg({displayMode:1},!0);b=!this.Vo;this.Vo=f[0];b&&(this.api.ea("webglsettingschanged",this.getSettings()),this.api.Oa("onWebglSettingsChanged"));a.bindBuffer(a.ARRAY_BUFFER,this.Hm);a.bufferData(a.ARRAY_BUFFER,this.Vo.BD,a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,this.Iz);a.bufferData(a.ARRAY_BUFFER,this.Vo.sJ,a.STATIC_DRAW)}else this.api.qo("html5.missingapi.webgl",{code:(11).toString()}),this.Vo||(this.lD=0,this.wx(!1))};
g.h.Yo=function(a,b){var c=this.Rz;z$.prototype.Yo.call(this,a,b);B$(this.qj,a);this.Wt&&this.Wt.Yo(a);if(c){c=y$(this.Le);var d=-Math.asin(this.Le.elements[9]),e=w3a(this.Le);this.Le.identity();x$(this.Le,-e);w$(this.Le,-d);v3a(this.Le,-c);c=1/1.99;this.vI.elements.set([Math.tan(.5*Math.PI-this.hp),0,0,0,0,Math.tan(.5*Math.PI-this.ip),0,0,0,0,-2.01*c,-1,0,0,-.04*c,0]);v$(this.vI,this.Le.get());a.uniformMatrix4fv(this.MO,!1,this.vI.get())}this.nq.J(a,b);a.drawArrays(Number(this.Vo.j),0,this.Vo.length)};
g.h.getSettings=function(){var a=z$.prototype.getSettings.call(this);if(this.qj){var b=this.qj;0!==b.displayMode&&(a.displayMode=b.displayMode)}a.cR=this.lD;return a};
g.h.vg=function(a){"Spherical"===a.Jc&&(this.qj&&this.qj.vg(a)&&this.api.ea("webglsettingschanged",this.getSettings()),z$.prototype.vg.call(this,a))};
g.h.destroy=function(a){this.Hm&&a&&a.deleteBuffer(this.Hm);this.Iz&&a.deleteBuffer(this.Iz);this.nq&&a&&this.nq.destroy();z$.prototype.destroy.call(this,a)};g.h=K3a.prototype;g.h.onVideoProgress=function(){this.requestAnimationFrame()};
g.h.xb=function(){if(0===this.error){var a=this.I.Ya().getVideoContentRect(),b=this.I.Ya().getPlayerSize();if(this.Jc&&this.Jc.kQ())if(P3a(this)){if(16*b.height/9>b.width){var c=b.width;var d=9*c/16}else d=b.height,c=16*d/9;var e=(b.height-d)/2;a=(b.width-c)/2}else c=a.width,d=a.height,e=a.top,a=a.left;else c=b.width,d=b.height,a=e=0;c=new g.Hm(a|0,e|0,c|0,d|0);this.parent.style.left=c.left+"px";this.parent.style.top=c.top+"px";this.j&&this.gl&&(this.j.style.width=c.width+"px",this.j.style.height=
c.height+"px",d=g.QC(),this.j.width=c.width*d,this.j.height=c.height*d,this.gl.j=c.width*d,this.gl.Sz=c.height*d,this.gl.viewport(0,0,c.width*d,c.height*d),this.Jc&&this.Jc.xb(this.gl));this.requestAnimationFrame()}};
g.h.vR=function(){this.Jb.videoHeight!==this.ma&&this.Jb.videoHeight&&this.Jb.videoWidth&&this.Jc&&(this.Jc.onPlaybackQualityChange(this.gl,this.C,this.Jb.videoWidth,this.Jb.videoHeight),this.ma=this.Jb.videoHeight);!this.enabled&&this.u&&g.zp(this.u)};
g.h.Yc=function(a){var b=this.B;(this.B=a.state.Nc())&&!b&&this.requestAnimationFrame()};
g.h.yB=function(){return this.Jc&&this.enabled?this.Jc.getSettings():{}};
g.h.fD=function(a){this.Jc&&this.Jc.vg(a)};
g.h.requestAnimationFrame=function(){var a=this;!this.K&&this.enabled&&(requestAnimationFrame(function(){T3a(a)}),this.K=!0)};var $3a=.0035*.006;g.w(N$,g.V);g.h=N$.prototype;
g.h.Ha=function(){if(1===g.DJ(this.api).cR){if(!this.sb){var a=this.api.Ya().kx;g.M(this.api.getRootNode(),"ytp-webgl-spherical");this.show();this.B=new g.mv(a,!0,null,!0);this.B.subscribe("dragstart",this.PS,this);this.B.subscribe("dragmove",this.sK,this);this.B.subscribe("dragend",this.OS,this);this.j=new g.mv(this.element,!0);this.j.subscribe("dragstart",this.UY,this);this.j.subscribe("dragend",this.TY,this);this.u.T(this.element,"keydown",this.QS,this);this.u.T(this.element,"keyup",this.vY,this);
this.u.T(a,"click",this.onClick,this);this.u.T(a,"wheel",this.m_,this);this.u.T(window,"deviceorientation",this.RY,this);this.u.T(window,"devicemotion",this.gY,this)}}else this.sb&&(P$(this),g.Hp(this.api.getRootNode(),"ytp-webgl-spherical"),this.hide(),this.B.dispose(),this.B=null,this.j.dispose(),this.j=null,g.hv(this.u))};
g.h.UY=function(a,b,c){var d=g.Sm(c);a=a-d.x-c.clientWidth/2;b=b-d.y-c.clientHeight/2;Math.abs(a)>Math.abs(b)?O$(this,0<a?-1:1,0,0):O$(this,0,0<b?-1:1,0)};
g.h.TY=function(){P$(this);this.D.start()};
g.h.PS=function(a,b){P$(this);this.ma=!1;this.La=new g.wh(a,b);g.M(this.api.getRootNode(),"ytp-dragging")};
g.h.sK=function(a,b){b=new g.wh(a,b);a=this.La;a=new g.wh(b.x-a.x,b.y-a.y);2<Math.sqrt(a.x*a.x+a.y*a.y)&&(this.ma=!0);this.La=b;b=g.DJ(this.api);var c=b.fov,d=Math.PI*c*.8,e=this.api.Ya().getPlayerSize();a.scale(1/e.width*d,1/e.height*d);U3a(this,b.yaw+a.x,b.pitch+a.y,c,b,g.Ta())};
g.h.OS=function(a,b,c){this.sK(a,b,c);g.Hp(this.api.getRootNode(),"ytp-dragging");this.D.start()};
g.h.onClick=function(a){this.ma&&(a.stopPropagation(),this.ma=!1)};
g.h.m_=function(a){this.api.isFullscreen()&&(g.vu(a),this.Aa=130,a=a.deltaY,O$(this,0,0,0<a?1:0>a?-1:a))};
g.h.animate=function(a){if(1E-5>Math.abs(this.K)&&1E-5>Math.abs(this.J)&&!this.Z&&!this.S&&0===this.C.length&&0>=this.Aa)P$(this),this.J=this.K=0;else{var b=g.DJ(this.api),c=b.yaw,d=b.pitch,e=b.fov,f=a-this.Ia,k=$3a*e;c+=(this.K+(k*this.Z-.006*this.K)*f)*f;d+=(this.J+(k*this.S-.006*this.J)*f)*f;e+=k/.006*f*this.va/2;this.Aa-=f;U3a(this,c,d,e,b,a);this.D.start()}};
g.h.QS=function(a){!g.wu(a)&&this.JN(g.xu(a))&&g.vu(a)};
g.h.vY=function(a){this.KN(g.xu(a))};
g.h.JN=function(a){if(-1<this.C.indexOf(a))return!0;var b=!1;switch(a){case 37:case 65:O$(this,1,0,0);b=!0;break;case 39:case 68:O$(this,-1,0,0);b=!0;break;case 38:case 87:O$(this,0,1,0);b=!0;break;case 40:case 83:O$(this,0,-1,0);b=!0;break;case 107:case 221:O$(this,0,0,-1);b=!0;break;case 109:case 219:O$(this,0,0,1),b=!0}b&&this.C.push(a);return b};
g.h.KN=function(a){var b=this.C.indexOf(a);if(-1<b)switch(this.C.splice(b,1),a){case 37:case 65:O$(this,-1,0,0);break;case 39:case 68:O$(this,1,0,0);break;case 38:case 87:O$(this,0,-1,0);break;case 40:case 83:O$(this,0,1,0);break;case 107:case 221:O$(this,0,0,1);break;case 109:case 219:O$(this,0,0,-1)}0===this.C.length&&(this.Ga=!1)};
g.h.RY=function(a){f$(this.api,{Jc:"Spherical",alpha:a.alpha?a.alpha:0,beta:a.beta?a.beta:0,gamma:a.gamma?a.gamma:0})};
g.h.gY=function(a){if(a.acceleration&&a.accelerationIncludingGravity){var b=null,c=a.acceleration,d=a.accelerationIncludingGravity;a=c.x;c=c.y;var e=d.x;d=d.y;8.3<e-a?b=90:-8.3>e-a?b=270:8.3<d-c&&(b=0);null!=b&&f$(this.api,{Jc:"Spherical",orientation:b})}};
g.h.qa=function(){g.Hp(this.api.getRootNode(),"ytp-webgl-spherical");this.j&&(this.B.dispose(),this.B=null,this.j.dispose(),this.j=null);g.V.prototype.qa.call(this)};g.w(Q$,g.kN);Q$.prototype.rk=function(a){switch(Number(a)){case 1:return"2D";case 2:return"Anaglyph";default:return""}};
Q$.prototype.Ha=function(){var a=g.DJ(this.I),b=a.displayMode;1===b||2===b?(this.j=a.Jc,this.enable(!0),this.lj(b.toString())):this.enable(!1)};
Q$.prototype.Et=function(a){g.kN.prototype.Et.call(this,a);a&&g.lN(this,[(1).toString(),(2).toString()])};
Q$.prototype.zg=function(a){g.kN.prototype.zg.call(this,a);f$(this.I,{Jc:this.j,displayMode:a===(2).toString()?2:1});this.lj(a);this.qb.Ai()};g.w(R$,g.cK);g.h=R$.prototype;g.h.xb=function(){this.view.xb()};
g.h.onVideoProgress=function(){this.view.onVideoProgress()};
g.h.Yc=function(a){this.view.Yc(a);g.U(a.state,8)&&this.u?(this.j.xc(this.u),this.u=null):this.u||(this.u=this.j.T(this.player,"onVideoProgress",this.onVideoProgress))};
g.h.yB=function(){return this.view?this.view.yB():{}};
g.h.fD=function(a){this.view&&a&&this.view.fD(a)};
g.h.getSphericalProperties=function(){if(!this.view)return{};var a=this.view.yB();return"Spherical"!==a.Jc||0===a.cR?{}:{yaw:g.th(180*(a.yaw||0)/Math.PI,360),pitch:180*(a.pitch||0)/Math.PI,roll:180*(a.roll||0)/Math.PI,fov:180*(a.fov||.8727)/Math.PI*2}};
g.h.setSphericalProperties=function(a,b){if(this.view){var c,d,e,f,k;"number"!==typeof a.yaw||isNaN(a.yaw)||(c=g.th(a.yaw,360)*Math.PI/180);"number"!==typeof a.pitch||isNaN(a.pitch)||(d=g.sh(a.pitch,-90,90)*Math.PI/180);"number"!==typeof a.roll||isNaN(a.roll)||(f=g.sh(a.roll,-180,180)*Math.PI/180);"number"!==typeof a.fov||isNaN(a.fov)||(e=a.fov/2*Math.PI/180);a.enableOrientationSensor?k=!0:!1===a.enableOrientationSensor&&(k=!1);this.view.fD({Jc:"Spherical",yaw:c,pitch:d,roll:f,fov:e,enableOrientationSensor:k,
IW:b})}};
g.h.load=function(){var a=this;g.cK.prototype.load.call(this);var b=g.uJ(this.player);b&&(b=b.yp())&&(this.B=new Q$(this.player,b),g.H(this,this.B));this.jq=new N$(this.player);g.EJ(this.player,this.jq.element,3);g.H(this,this.jq);this.C.Ba(this.player.Ya().kx);this.view=new K3a(this.player,V3a(this.player),this.C.element,function(){a.unload()});
this.j.T(this.player,"resize",this.xb);this.j.T(this.player,"presentingplayerstatechange",this.Yc);M3a(this.view)?(this.player.mf("webgl"),this.player.Oa("onApiChange")):(this.player.mf("webgl"),this.unload())};
g.h.unload=function(){g.cK.prototype.unload.call(this);this.jq&&(this.jq.dispose(),this.jq=null);this.B&&(this.B.dispose(),this.B=null);var a=this.view,b=a.I.Pc();if(a.gl&&a.S)try{a.gl.deleteTexture(a.S)}catch(c){b.xa("gldestroy",{texture:btoa(c.message)},!0)}if(a.Jc)try{a.Jc.destroy(a.gl),a.Jc=null}catch(c){b.xa("gldestroy",{shader:btoa(c.message)},!0)}if(a.gl&&a.C)try{a.gl.deleteProgram(a.C)}catch(c){b.xa("gldestroy",{program:btoa(c.message)},!0)}a.j&&(g.gi(a.j),a.j=null);a.gl=null;a.B=!1;a.Jb.removeAttribute("crossorigin");
a.Jb.style.display="";a.error=10;a.u&&(a.u.stop(),a.u=null);this.view=null;this.C.detach();g.hv(this.j);this.player.Oa("onWebglSettingsChanged")};g.bK("webgl",R$);})(_yt_player);
